<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>kernow.me::multifreeze</title>
		<link rel="icon" type="image/png" href="../img/fav.png">
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
		<script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script> 
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" href="css/switches.css" />
	</head>

    <body itemscope itemtype="http://schema.org/WebApplication">
		<meta itemprop="applicationCategory" content="Music,Audio" />
		<meta itemprop="name" content="multifreeze" />
		<meta itemprop="about" content="A web utility that demonstrates 'spectral freezing' of part or all of an audio signal" /> 
		<meta itemprop="browserRequirements" content="requires HTML5 Canvas, WebAudio and FileAPI support" /> 

        <div class="container">
                <h1>multifreeze<small id = "filename"></small></h1>
			<noscript>
				<div id = "nojs">
					<h3 align='center'>
					This app requires a Javascript-enabled browser to run. It uses the HTML5 Canvas, WebAudio and File APIs. 
					</h3>
				</div>
			</noscript>
			<div id = "incompat" style="display: none;">
				<div id = "nojs">
					<h3 align='center'>
					It appears that your browser is incompatible with the latest WebAudio and/or File APIs required to run this app. Sorry!
					</h3>
				</div>		
			</div> 			
            <div id="demo">
				<div id="waveform">
						<span id="progressmode"></span>		
						<div class="progress progress-striped active" id="progress-bar">			
							<div class="progress-bar progress-bar-info"></div>
						</div>		
				</div>
					<button data-action="zoomin">
						<i class = "glyphicon glyphicon-zoom-in"> </i>
					</button>
					
					<button data-action="zoomout">
						<i class = "glyphicon glyphicon-zoom-out"> </i>
					</button>

	
                <div class="controls">		
					<label class="btn btn-primary" for="openfile">
						<i class="glyphicon glyphicon-open-file"></i>
						<input id="openfile" type="file" style="display:none;">
						Open
					</label>			
                    <button class="btn btn-primary" data-action="play" id="playbtn">
                        <i class="glyphicon glyphicon-repeat"></i>
                        Loop
                        /
                        <i class="glyphicon glyphicon-pause"></i>
                        Pause
                    </button>				
                    <button class="btn btn-primary" data-action="save">
                        <i class="glyphicon glyphicon-save"></i>
                        Save
                    </button>
				</div>		
            </div>        
            <div class = "row" align = "center">
                <table>
                    <tr>
                        <td>
                            <span class="toggle-switch-container">
                                <div class="toggle-switch switch-vertical">
                                    <input id="switch-up-1" type="radio" name="switch1" autocomplete="off"  onclick="switch_activate(1, 'up')" />
                                    <input id="switch-down-1" type="radio" name="switch1" checked="checked" autocomplete="off" onclick="switch_activate(1, 'down')" />
                                    <span class="toggle-outside" id = "switch-recess-1">
                                        <span class="toggle-inside" id = "switch-button-1"></span>
                                    </span>
                                </div>
                            </span>
                        </td>

                        <td>
                            <span class="toggle-switch-container">
                                <div class="toggle-switch switch-vertical">
                                    <input id="switch-up-2" type="radio" name="switch2" autocomplete="off" onclick="switch_activate(2, 'up')" />
                                    <input id="switch-down-2" type="radio" name="switch2" checked="checked" autocomplete="off" onclick="switch_activate(2, 'down')" />
                                    <span class="toggle-outside" id = "switch-recess-2">
                                        <span class="toggle-inside"id = "switch-button-2"></span>
                                    </span>
                                </div>
                            </span>
                        </td> 
  
                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-3" type="radio" name="switch3" autocomplete="off" onclick="switch_activate(3, 'up')" />
                              <input id="switch-down-3" type="radio" name="switch3" checked="checked" autocomplete="off" onclick="switch_activate(3, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-3">
                                <span class="toggle-inside"id = "switch-button-3"></span>
                              </span>
                            </div>
                          </span>
                        </td> 


                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-4" type="radio" name="switch4" autocomplete="off" onclick="switch_activate(4, 'up')" />
                              <input id="switch-down-4" type="radio" name="switch4" checked="checked" autocomplete="off" onclick="switch_activate(4, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-4">
                                <span class="toggle-inside"id = "switch-button-4"></span>
                              </span>
                            </div>
                          </span>
                        </td> 

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-5" type="radio" name="switch5" autocomplete="off" onclick="switch_activate(5, 'up')" />
                              <input id="switch-down-5" type="radio" name="switch5" checked="checked" autocomplete="off" onclick="switch_activate(5, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-5">
                                <span class="toggle-inside"id = "switch-button-5"></span>
                              </span>
                            </div>
                          </span>
                        </td> 

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-6" type="radio" name="switch6" autocomplete="off" onclick="switch_activate(6, 'up')" />
                              <input id="switch-down-6" type="radio" name="switch6" checked="checked" autocomplete="off" onclick="switch_activate(6, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-6">
                                <span class="toggle-inside"id = "switch-button-6"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-7" type="radio" name="switch7" autocomplete="off" onclick="switch_activate(7, 'up')" />
                              <input id="switch-down-7" type="radio" name="switch7" checked="checked" autocomplete="off" onclick="switch_activate(7, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-7">
                                <span class="toggle-inside"id = "switch-button-7"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-8" type="radio" name="switch8" autocomplete="off" onclick="switch_activate(8, 'up')" />
                              <input id="switch-down-8" type="radio" name="switch8" checked="checked" autocomplete="off" onclick="switch_activate(8, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-8">
                                <span class="toggle-inside"id = "switch-button-8"></span>
                              </span>
                            </div>
                          </span>
                        </td>


                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-9" type="radio" name="switch9" autocomplete="off"  onclick="switch_activate(9, 'up')" />
                              <input id="switch-down-9" type="radio" name="switch9" checked="checked" autocomplete="off" onclick="switch_activate(9, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-9">
                                <span class="toggle-inside" id = "switch-button-9"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-10" type="radio" name="switch10" autocomplete="off" onclick="switch_activate(10, 'up')" />
                              <input id="switch-down-10" type="radio" name="switch10" checked="checked" autocomplete="off" onclick="switch_activate(10, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-10">
                                <span class="toggle-inside"id = "switch-button-10"></span>
                              </span>
                            </div>
                          </span>
                        </td> 
                          
                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-11" type="radio" name="switch11" autocomplete="off" onclick="switch_activate(11, 'up')" />
                              <input id="switch-down-11" type="radio" name="switch11" checked="checked" autocomplete="off" onclick="switch_activate(11, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-11">
                                <span class="toggle-inside"id = "switch-button-11"></span>
                              </span>
                            </div>
                          </span>
                        </td> 


                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-12" type="radio" name="switch12" autocomplete="off" onclick="switch_activate(12, 'up')" />
                              <input id="switch-down-12" type="radio" name="switch12" checked="checked" autocomplete="off" onclick="switch_activate(12, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-12">
                                <span class="toggle-inside"id = "switch-button-12"></span>
                              </span>
                            </div>
                          </span>
                        </td> 

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-13" type="radio" name="switch13" autocomplete="off" onclick="switch_activate(13, 'up')" />
                              <input id="switch-down-13" type="radio" name="switch13" checked="checked" autocomplete="off" onclick="switch_activate(13, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-13">
                                <span class="toggle-inside"id = "switch-button-13"></span>
                              </span>
                            </div>
                          </span>
                        </td> 

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-14" type="radio" name="switch14" autocomplete="off" onclick="switch_activate(14, 'up')" />
                              <input id="switch-down-14" type="radio" name="switch14" checked="checked" autocomplete="off" onclick="switch_activate(14, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-14">
                                <span class="toggle-inside"id = "switch-button-14"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-15" type="radio" name="switch15" autocomplete="off" onclick="switch_activate(15, 'up')" />
                              <input id="switch-down-15" type="radio" name="switch15" checked="checked" autocomplete="off" onclick="switch_activate(15, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-15">
                                <span class="toggle-inside"id = "switch-button-15"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-16" type="radio" name="switch16" autocomplete="off" onclick="switch_activate(16, 'up')" />
                              <input id="switch-down-16" type="radio" name="switch16" checked="checked" autocomplete="off" onclick="switch_activate(16, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-16">
                                <span class="toggle-inside"id = "switch-button-16"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-17" type="radio" name="switch17" autocomplete="off"  onclick="switch_activate(17, 'up')" />
                              <input id="switch-down-17" type="radio" name="switch17" checked="checked" autocomplete="off" onclick="switch_activate(17, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-17">
                                <span class="toggle-inside" id = "switch-button-17"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-18" type="radio" name="switch18" autocomplete="off" onclick="switch_activate(18, 'up')" />
                              <input id="switch-down-18" type="radio" name="switch18" checked="checked" autocomplete="off" onclick="switch_activate(18, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-18">
                                <span class="toggle-inside"id = "switch-button-18"></span>
                              </span>
                            </div>
                          </span>
                        </td> 
                          
                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-19" type="radio" name="switch19" autocomplete="off" onclick="switch_activate(19, 'up')" />
                              <input id="switch-down-19" type="radio" name="switch19" checked="checked" autocomplete="off" onclick="switch_activate(19, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-19">
                                <span class="toggle-inside"id = "switch-button-19"></span>
                              </span>
                            </div>
                          </span>
                        </td> 


                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-20" type="radio" name="switch20" autocomplete="off" onclick="switch_activate(20, 'up')" />
                              <input id="switch-down-20" type="radio" name="switch20" checked="checked" autocomplete="off" onclick="switch_activate(20, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-20">
                                <span class="toggle-inside"id = "switch-button-20"></span>
                              </span>
                            </div>
                          </span>
                        </td> 

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-21" type="radio" name="switch21" autocomplete="off" onclick="switch_activate(21, 'up')" />
                              <input id="switch-down-21" type="radio" name="switch21" checked="checked" autocomplete="off" onclick="switch_activate(21, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-21">
                                <span class="toggle-inside"id = "switch-button-21"></span>
                              </span>
                            </div>
                          </span>
                        </td> 

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-22" type="radio" name="switch22" autocomplete="off" onclick="switch_activate(22, 'up')" />
                              <input id="switch-down-22" type="radio" name="switch22" checked="checked" autocomplete="off" onclick="switch_activate(22, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-22">
                                <span class="toggle-inside"id = "switch-button-22"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-23" type="radio" name="switch23" autocomplete="off" onclick="switch_activate(23, 'up')" />
                              <input id="switch-down-23" type="radio" name="switch23" checked="checked" autocomplete="off" onclick="switch_activate(23, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-23">
                                <span class="toggle-inside"id = "switch-button-23"></span>
                              </span>
                            </div>
                          </span>
                        </td>

                        <td>
                          <span class="toggle-switch-container">
                            <div class="toggle-switch switch-vertical">
                              <input id="switch-up-24" type="radio" name="switch24" autocomplete="off" onclick="switch_activate(24, 'up')" />
                              <input id="switch-down-24" type="radio" name="switch24" checked="checked" autocomplete="off" onclick="switch_activate(24, 'down')" />
                              <span class="toggle-outside" id = "switch-recess-24">
                                <span class="toggle-inside"id = "switch-button-24"></span>
                              </span>
                            </div>
                          </span>
                        </td>
                    </tr>
                </table>
            </div>

            <div align = "center">
            <table>
            <tr>
            <td>
                <button class="btn btn-primary" onclick="flip_all_switches('up')">Set all</button>
                &nbsp;
             </td>
             <td>
                <button class="btn btn-primary" onclick="flip_all_switches('down')">Clear all</button>
                &nbsp;&nbsp;
             </td>
          </tr>
           </table>
            </div>
            <br />
            <div class="panel panel-default">
                <div class="panel-heading">About this app:</div>
                <div class="panel-body">
                    <p>
                    A web demo of a "spectral freezing" effect that captures and holds a short frame of sound from an audio file. For the fun of it, this app separates the spectrum into 24 sub-bands, and you can choose to freeze some, all or none of them as you go. Simply flip the switches to isolate and spectrally freeze parts of the incoming audio.
                    </p>
                    <p>
                    Use the Open button to select a wave file, or drag and drop onto the wave display. Click on the waveform to play without looping, or click the Loop button (or hit the Space bar) to loop playback (press Space again to stop playback). You can adjust the red L/R markers to delineate the loop. 
                    </p>
                    <p>
                    Clicking the Save button will save whatever is between the L and R markers with the settings applied. 
                    </p>
                    <p>
                    As with the other web apps in this series, all processing is done entirely on your own machine with none of your information uploaded to a server. You can even use this program without an internet connection once it is loaded into your browser.
                    </p>
                    <p>Waveform view and playback powered by <a href="https://github.com/katspaugh/wavesurfer.js">wavesurfer.js</a>, licensed under <a href="https://creativecommons.org/licenses/by/3.0/deed.en_US">https://creativecommons.org/licenses/by/3.0/deed.en_US</a>, with modifications by myself. 
                    </p>
                    <p> The vocoder sample is from the <a href="https://archive.org/details/Berklee44v1">Berklee College Sampling Archive</a>, licensed under <a href= "https://creativecommons.org/licenses/by/3.0/deed.en_US">https://creativecommons.org/licenses/by/3.0/deed.en_US</a> </p>
                </div>
            </div>

            <script src="js/util/bowser.min.js"></script>
            <script src="js/util/jszip.min.js"></script>
            <script src="js/util/FileSaver.js"></script>
            <script src="js/wavesurfer/wavesurfer.js"></script>
            <script src="js/wavesurfer/util.js"></script>
            <script src="js/wavesurfer/filemaker.js"></script>	
            <script src="js/wavesurfer/webaudio.js"></script>
            <script src="js/wavesurfer/mediaelement.js"></script>
            <script src="js/wavesurfer/drawer.js"></script>
            <script src="js/wavesurfer/drawer.canvas.js"></script>
            <script src="js/wavesurfer/html-init.js"></script>
            <script src="js/wavesurfer/wavesurfer.regions.js"></script>

            <script src="js/fft/FFTExtAsm.js"></script>
            <script src="js/fft/FFTExt.js"></script>		
            <script src="js/fft/fftwola.js"></script>		

       
            <script src="js/app.js"></script>
            <script src="js/ctrl.js"></script> 
            <script src="js/switchpanel.js"></script>                             
        </div>
    </body>        
</html>